(this.webpackJsonpequipment=this.webpackJsonpequipment||[]).push([[0],[,,,,function(e,t,n){},,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(1),a=n.n(i),r=n(2),s=n.n(r),l=(n(16),n(3));function d(){window.firestore.collection("inventory").get().then((function(e){window.inventory=e.docs.map((function(e){return{id:e.id,data:e.data(),placeId:e.data().place.id}}))}))}n(4),n(17);var o=function e(t){var n=t.idPlace,r=Object(i.useState)(""),o=Object(l.a)(r,2),u=o[0],h=o[1],b=Object(i.useState)(""),O=Object(l.a)(b,2),f=O[0],v=O[1];function m(t){window.firestore.collection("inventory").doc().set({name:t.name,count:t.count,place:window.firestore.collection("places").doc(t.idPlace)}).then((function(){d(),setTimeout((function(){!function(t){var n=window.inventory.filter((function(e){return e.placeId===t}));s.a.render(Object(c.jsxs)(a.a.Fragment,{children:[Object(c.jsx)(j,{inventory:n}),Object(c.jsx)("div",{id:"change",children:Object(c.jsx)(e,{idPlace:t})})]}),document.getElementById("inventory")),h(""),v("")}(t.idPlace)}),500)}))}return Object(c.jsxs)(a.a.Fragment,{children:[Object(c.jsx)("h3",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u.trim()&&f.trim()&&m({name:u,count:f,idPlace:n})},children:[Object(c.jsx)("input",{className:"input",value:u,onChange:function(e){return h(e.target.value)}}),Object(c.jsx)("input",{className:"input",value:f,onChange:function(e){return v(e.target.value)}}),Object(c.jsx)("button",{type:"submit",className:"button",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})]})};var u=function(e){var t=e.idPlace,n=Object(i.useState)(e.value.split(";")[0]),r=Object(l.a)(n,2),u=r[0],h=r[1],b=Object(i.useState)(e.value.split(";")[1]),O=Object(l.a)(b,2),f=O[0],v=O[1];function m(e){window.firebase.firestore().collection("inventory").doc(e.id).set({name:e.name,count:e.count}).then((function(){d(),setTimeout((function(){!function(e){var t=window.inventory.filter((function(t){return t.placeId===e}));s.a.render(Object(c.jsx)(a.a.Fragment,{children:Object(c.jsx)(j,{inventory:t})}),document.getElementById("inventory"))}(e.idPlace)}),500)}))}return Object(c.jsxs)(a.a.Fragment,{children:[Object(c.jsx)("button",{className:"button button-add",onClick:function(e){s.a.render(Object(c.jsx)(o,{idPlace:t,id:e.target.id,value:e.target.value}),document.getElementById("change"))},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(c.jsx)("h3",{children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(c.jsxs)("form",{onSubmit:function(n){n.preventDefault(),u.trim()&&f.trim()&&m({id:e.id,name:u,count:f,idPlace:t})},children:[Object(c.jsx)("input",{className:"input",value:u,onChange:function(e){return h(e.target.value)}}),Object(c.jsx)("input",{className:"input",value:f,onChange:function(e){return v(e.target.value)}}),Object(c.jsx)("button",{type:"submit",className:"button",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})]})};n(18);var j=function e(t){function n(e){s.a.render(Object(c.jsx)(u,{idPlace:t.idPlace,id:e.target.id,value:e.target.value}),document.getElementById("change"))}function i(n){window.firebase.firestore().collection("inventory").doc(n.target.id).delete().then((function(){s.a.render(Object(c.jsxs)(a.a.Fragment,{children:[Object(c.jsx)(e,{idPlace:t.idPlace,inventory:t.inventory,isCanChange:t.isCanChange}),t.isCanChange&&Object(c.jsx)("div",{id:"change",children:Object(c.jsx)(o,{idPlace:t.idPlace})})]}),document.getElementById("inventory"))}))}return 0===t.inventory?Object(c.jsx)("h2",{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0437\u0434\u0430\u043d\u0438\u0435 / \u043a\u043e\u043c\u043d\u0430\u0442\u0443"}):0===t.inventory.length?Object(c.jsx)("h2",{children:"\u0417\u0434\u0435\u0441\u044c \u043d\u0435\u0442 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f!"}):Object(c.jsxs)("table",{className:"inventory",children:[Object(c.jsx)("thead",{className:"inventory-head",children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"}),Object(c.jsx)("td",{children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})}),Object(c.jsx)("tbody",{className:"inventory-body",children:t.inventory.map((function(e){return t.isCanChange?Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.data.name}),Object(c.jsx)("td",{children:e.data.count}),Object(c.jsx)("td",{children:Object(c.jsx)("button",{id:e.id,value:e.data.name+";"+e.data.count,onClick:n,className:"button",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})}),Object(c.jsx)("td",{children:Object(c.jsx)("button",{id:e.id,onClick:i,className:"button button-delete",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]},e.id):Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.data.name}),Object(c.jsx)("td",{children:e.data.count})]},e.id)}))})]})},h=n(5),b=n(6),O=n(7),f=n(9),v=n(8);n(19);function m(e){window.allchilds.push(e.id),e.children&&e.children.forEach((function(e){m(e)}))}var p=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(e){var c;return Object(h.a)(this,n),(c=t.call(this,e)).place=e.place,c.state={empty:!0,click:!1},c.isHasChild=!1,c.showInventory=c.showInventory.bind(Object(O.a)(c)),c}return Object(b.a)(n,[{key:"showInventory",value:function(){var e,t=this,n=window.map.get(this.place.id);n.hasOwnProperty("children")?(this.isHasChild=!0,window.allchilds=[],m(n),e=window.allchilds,e=window.inventory.filter((function(e){return-1!==window.allchilds.indexOf(e.placeId)}))):e=window.inventory.filter((function(e){return e.placeId===t.place.id})),this.setState((function(t){return{empty:!e.length,click:!0}})),s.a.render(Object(c.jsxs)(a.a.Fragment,{children:[Object(c.jsx)(j,{idPlace:this.place.id,inventory:e,isCanChange:!this.isHasChild}),!this.isHasChild&&Object(c.jsx)("div",{id:"change",children:Object(c.jsx)(o,{idPlace:this.place.id})})]}),document.getElementById("inventory"))}},{key:"render",value:function(){return Object(c.jsxs)("a",{id:this.place.id,href:"#",onClick:this.showInventory,className:"link",children:[this.place.data.name," ",this.state.click?this.state.empty?"\u041d\u0435\u0442":"\u0414\u0430":""]})}}]),n}(a.a.Component);n(20);var x=function(e){var t=e.place;return Object(c.jsx)("li",{id:t.id,className:"list-element",children:Object(c.jsx)(p,{place:t})})};var y=function e(t){return Object(c.jsx)("ul",{children:t.places.map((function(t){return Object(c.jsxs)(a.a.Fragment,{children:[Object(c.jsx)(x,{place:t}),t.children&&Object(c.jsx)(e,{places:t.children})]},t.id)}))})};n(21);n(22);var w=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(h.a)(this,n);for(var c=arguments.length,i=new Array(c),a=0;a<c;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={isOpen:!1},e}return Object(b.a)(n,[{key:"render",value:function(){var e=this;return Object(c.jsxs)(a.a.Fragment,{children:[Object(c.jsx)("button",{onClick:function(){return e.setState({isOpen:!0})},className:"button button-info",children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0437\u0430\u0434\u0430\u043d\u0438\u0439"}),this.state.isOpen&&Object(c.jsx)("div",{className:"modal",children:Object(c.jsxs)("div",{className:"modal-body",children:[Object(c.jsx)("h3",{children:"\u0422\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 \u043d\u0430 \u0441\u0442\u0430\u0436\u0435\u0440\u0430 Docsvision"}),Object(c.jsx)("p",{children:"\u0422\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e. \u041f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0440\u0430\u0431\u043e\u0442\u043e\u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u044c \u043c\u043e\u0436\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c, \u043a\u043e\u0433\u0434\u0430 \u0431\u0443\u0434\u0443\u0442 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435. \u041d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442."}),Object(c.jsx)("p",{children:"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u0431\u044b\u043b\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 3 \u0434\u043d\u044f. \u0421 \u0440\u0435\u0430\u043a\u0442\u043e\u043c \u0440\u0430\u0431\u043e\u0442\u0430\u043b \u0432\u043f\u0435\u0440\u0432\u044b\u0435"}),Object(c.jsxs)("ol",{children:[Object(c.jsx)("li",{children:"\u041f\u0435\u0440\u0432\u044b\u0439 \u0434\u0435\u043d\u044c - \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0438 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u043e\u0432 \u0434\u043b\u044f 1 \u0438 2 \u043f\u043e\u0434\u0437\u0430\u0434\u0430\u0447\u0438"}),Object(c.jsx)("li",{children:"\u0412\u0442\u043e\u0440\u043e\u0439 \u0434\u0435\u043d\u044c - \u043f\u0435\u0440\u0435\u043d\u043e\u0441 \u0432\u0441\u0435 \u0432 \u0440\u0435\u0430\u043a\u0442, \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f 3 \u0438 \u0447\u0430\u0441\u0442\u0438\u0447\u043d\u043e 4 \u0437\u0430\u0434\u0430\u0447\u0438"}),Object(c.jsx)("li",{children:"\u0422\u0440\u0435\u0442\u0438\u0439 \u0434\u0435\u043d\u044c - \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b, \u0441\u043b\u043e\u043c\u0430\u043d\u043d\u0430\u044f \u0411\u0414, \u0431\u0430\u0437\u043e\u0432\u0430\u044f \u0441\u0442\u0438\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"})]}),Object(c.jsx)("button",{onClick:function(){return e.setState({isOpen:!1})},className:"button button-info",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})})]})}}]),n}(a.a.Component);var g=function(){var e=a.a.useState(!0),t=Object(l.a)(e,2),n=t[0],i=t[1];return setTimeout((function(){i(!1)}),1e3),n||(window.places=function(e,t){var n=new Map,c=[];e.forEach((function(e){if(n.set(e.id,e),e.parts){e.children=[];for(var i=0;i<e.parts.length;i++){c.push(e.parts[i]);var a=t.get(e.parts[i]);e.children.push(a)}}})),c.forEach((function(e){n.delete(e)}));var i=[];return n.forEach((function(e){i.push(e)})),i}(window.places,window.map)),Object(c.jsxs)(a.a.Fragment,{children:[Object(c.jsx)(w,{}),Object(c.jsxs)("div",{className:"wrapper",children:[!n&&Object(c.jsx)("div",{id:"places",children:Object(c.jsx)(y,{places:window.places})}),!n&&Object(c.jsx)("div",{id:"inventory",children:Object(c.jsx)(j,{inventory:0})})]})]})};s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(g,{})}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.8dee4c58.chunk.js.map