{"version":3,"sources":["task/functions/GetInventory.js","task/AddInventory.js","task/ChangeInventory.js","task/Inventory.js","task/LinkItem.js","task/PlaceItem.js","task/Places.js","task/Modal/Modal.js","App.js","task/functions/Tree.js","index.js"],"names":["GetInventory","window","firestore","collection","get","then","response","inventory","docs","map","x","id","data","placeId","place","AddInventory","props","idPlace","useState","name","setName","count","setCount","onCreate","options","doc","set","setTimeout","res","filter","ReactDOM","render","Fragment","document","getElementById","Render","onSubmit","event","preventDefault","trim","className","value","onChange","target","type","ChangeInventory","split","firebase","onClick","Inventory","changeInventory","deleteInventory","delete","isCanChange","length","inv","GetAllPlacesId","element","allchilds","push","children","forEach","child","LinkItem","state","empty","click","isHasChild","showInventory","bind","result","item","this","hasOwnProperty","indexOf","setState","href","React","Component","PlaceItem","Places","places","Modal","isOpen","App","loading","setLoading","items","mapMain","Map","childs","parts","i","el","buildTree","StrictMode"],"mappings":"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","file":"static/js/main.8dee4c58.chunk.js","sourcesContent":["export default function GetInventory() {\r\n    window.firestore.collection(\"inventory\").get().then(response => { \r\n        window.inventory = response.docs.map(x => ({ \r\n                id: x.id, \r\n                data: x.data(), \r\n                placeId: x.data().place.id \r\n        }));\r\n    });\r\n}\r\n","import React, { useState } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Inventory from './Inventory';\r\nimport GetInventory from './functions/GetInventory';\r\nimport './css/Buttons.css';\r\nimport './css/Form.css';\r\n\r\nfunction AddInventory(props) {\r\n    const idPlace = props.idPlace;\r\n    const [name, setName] = useState(''); \r\n    const [count, setCount] = useState('');\r\n    \r\n    function Render(id) {\r\n        let res = window.inventory.filter(inventory => inventory.placeId === id);\r\n        ReactDOM.render(\r\n            <React.Fragment>\r\n                <Inventory inventory={res} />\r\n                <div id=\"change\"><AddInventory idPlace={id} /></div>\r\n            </React.Fragment>,\r\n            document.getElementById('inventory')\r\n        )\r\n        setName('');\r\n        setCount  ('');\r\n    }\r\n\r\n    function onCreate(options) {\r\n        window.firestore.collection(\"inventory\").doc().set({ \r\n            name: options.name, \r\n            count: options.count, \r\n            place: window.firestore.collection(\"places\").doc(options.idPlace)\r\n        }).then(() => {\r\n            GetInventory();\r\n            setTimeout(() => { \r\n                Render(options.idPlace);\r\n            }, 500);\r\n\r\n        });        \r\n    }\r\n\r\n    function submitHandler(event) {\r\n        event.preventDefault(); \r\n\r\n        if (name.trim() && count.trim()) {\r\n            onCreate({\r\n                name: name,\r\n                count: count,\r\n                idPlace: idPlace\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <h3>Добавить</h3>\r\n            <form onSubmit={submitHandler}>\r\n                <input className=\"input\" value={name} onChange={event => setName(event.target.value)} />\r\n                <input className=\"input\" value={count} onChange={event => setCount(event.target.value)} />\r\n                <button type='submit' className=\"button\">Добавить</button>\r\n            </form>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default AddInventory;","import React, { useState } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Inventory from './Inventory';\r\nimport GetInventory from './functions/GetInventory';\r\nimport AddInventory from './AddInventory';\r\n\r\nfunction ChangeInventory(props) {\r\n    const idPlace = props.idPlace;\r\n    \r\n    const [name, setName] = useState(props.value.split(';')[0]); \r\n    const [count, setCount] = useState(props.value.split(';')[1]);\r\n    \r\n    function addInventory (event) {\r\n        ReactDOM.render(\r\n            <AddInventory idPlace={idPlace} id={event.target.id} value={event.target.value} />,\r\n            document.getElementById('change')\r\n        );\r\n    }\r\n\r\n    function Render(id) {\r\n        let res = window.inventory.filter(inventory => inventory.placeId === id);\r\n        ReactDOM.render(\r\n            <React.Fragment>\r\n                <Inventory inventory={res} />\r\n            </React.Fragment>,\r\n            document.getElementById('inventory')\r\n        )\r\n    }\r\n\r\n    function onChange(options) {\r\n        window.firebase.firestore().collection(\"inventory\").doc(options.id).set({ \r\n            name: options.name,\r\n            count: options.count\r\n        }).then(() => {\r\n            GetInventory();\r\n            setTimeout(() => { \r\n                Render(options.idPlace);\r\n            }, 500);\r\n        });        \r\n    }\r\n\r\n    function submitHandler(event) {\r\n        event.preventDefault(); \r\n\r\n        if (name.trim() && count.trim()) {\r\n            onChange({\r\n                id: props.id,\r\n                name: name,\r\n                count: count,\r\n                idPlace: idPlace\r\n            })\r\n        }\r\n    }\r\n\r\n    return(\r\n        <React.Fragment>\r\n            <button className=\"button button-add\" onClick={addInventory}>\r\n                Добавить\r\n            </button>\r\n            <h3>Изменить</h3>\r\n            <form onSubmit={submitHandler}>\r\n                <input className=\"input\" value={name} onChange={event => setName(event.target.value)} />\r\n                <input className=\"input\" value={count} onChange={event => setCount(event.target.value)} />\r\n                <button type='submit' className=\"button\">Добавить</button>\r\n            </form>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default ChangeInventory;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport ChangeInventory from './ChangeInventory';\r\nimport AddInventory from './AddInventory';\r\nimport './css/Table.css';\r\nimport './css/Buttons.css';\r\n\r\nfunction Inventory(props) {\r\n    function changeInventory(event) {\r\n        ReactDOM.render(\r\n            <ChangeInventory idPlace={props.idPlace} id={event.target.id} value={event.target.value} />,\r\n            document.getElementById('change')\r\n        );\r\n    }\r\n\r\n    function deleteInventory(event) {\r\n        window.firebase.firestore().collection(\"inventory\").doc(event.target.id).delete().then(() => {\r\n            ReactDOM.render(\r\n                <React.Fragment>\r\n                    <Inventory idPlace={props.idPlace} inventory={props.inventory}  isCanChange={props.isCanChange} />\r\n                    {props.isCanChange && <div id=\"change\"><AddInventory idPlace={props.idPlace} /></div>}\r\n                </React.Fragment>,\r\n                document.getElementById('inventory')\r\n            );\r\n        });        \r\n    }\r\n\r\n    if (props.inventory === 0) {\r\n        return(\r\n            <h2>Выберите здание / комнату</h2>\r\n        );\r\n    }\r\n    else if(props.inventory.length === 0) {\r\n        return(\r\n            <h2>Здесь нет оборудования!</h2>\r\n        );\r\n    }\r\n    else {\r\n        return (\r\n            <table className=\"inventory\">\r\n                <thead className=\"inventory-head\">\r\n                    <tr>\r\n                        <td>\r\n                            Наименование\r\n                        </td>\r\n                        <td>\r\n                            Количество\r\n                        </td>\r\n                    </tr>\r\n                </thead>\r\n                <tbody className=\"inventory-body\">\r\n                    {props.inventory.map(inv => {\r\n                        return (\r\n                            props.isCanChange ? \r\n                            <tr key={inv.id}>\r\n                                <td>\r\n                                    {inv.data.name}\r\n                                </td>\r\n                                <td>\r\n                                    {inv.data.count}\r\n                                </td>\r\n                                <td>\r\n                                    <button \r\n                                        id={inv.id} \r\n                                        value={inv.data.name + \";\" + inv.data.count} \r\n                                        onClick={changeInventory}\r\n                                        className=\"button\"    \r\n                                    >\r\n                                        Изменить\r\n                                    </button>\r\n                                </td>\r\n                                <td>\r\n                                    <button\r\n                                        id={inv.id}\r\n                                        onClick={deleteInventory}\r\n                                        className=\"button button-delete\"\r\n                                    >\r\n                                        Удалить\r\n                                    </button>\r\n                                </td>\r\n                            </tr> :\r\n                            <tr key={inv.id}>\r\n                                <td>\r\n                                    {inv.data.name}\r\n                                </td>\r\n                                <td>\r\n                                    {inv.data.count}\r\n                                </td>\r\n                            </tr>\r\n                        )\r\n                    })}\r\n                </tbody>\r\n            </table>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Inventory;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Inventory from './Inventory';\r\nimport AddInventory from './AddInventory';\r\nimport './css/LinkItem.css';\r\n\r\nfunction GetAllPlacesId(element) {\r\n    window.allchilds.push(element.id);\r\n    if (element.children) {\r\n        element.children.forEach((child) => {\r\n            GetAllPlacesId(child);\r\n        });\r\n    }\r\n}\r\n\r\nclass LinkItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.place = props.place;\r\n        this.state = {empty: true, click: false};\r\n        this.isHasChild = false;\r\n        this.showInventory = this.showInventory.bind(this);\r\n    }\r\n\r\n    showInventory () {\r\n        let item = window.map.get(this.place.id);\r\n        let result;\r\n        if (item.hasOwnProperty(\"children\")) {\r\n            this.isHasChild = true;\r\n            window.allchilds = [];\r\n            GetAllPlacesId(item);\r\n            result = window.allchilds;\r\n            result = window.inventory.filter(inventory => window.allchilds.indexOf(inventory.placeId) !== -1);\r\n        }\r\n        else {\r\n            result = window.inventory.filter(inventory => inventory.placeId === this.place.id);\r\n        }\r\n\r\n        this.setState(state => ({\r\n            empty: !result.length,\r\n            click: true\r\n        }));\r\n\r\n        ReactDOM.render(\r\n            <React.Fragment>\r\n                <Inventory idPlace={this.place.id} inventory={result}  isCanChange={!this.isHasChild} />\r\n                {!this.isHasChild && <div id=\"change\"><AddInventory idPlace={this.place.id} /></div>}\r\n            </React.Fragment>,\r\n            document.getElementById('inventory')\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <a \r\n                id={this.place.id} \r\n                href=\"#\"\r\n                onClick={this.showInventory}\r\n                className=\"link\"\r\n            >\r\n                {this.place.data.name} {this.state.click ? this.state.empty ? 'Нет' : 'Да' : ''}   \r\n            </a>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LinkItem;\r\n","import React from 'react';\r\nimport LinkItem from './LinkItem';\r\nimport './css/PlaceItem.css';\r\n\r\nfunction PlaceItem(props) {\r\n    const place = props.place;\r\n    return (\r\n        <li id={place.id} className=\"list-element\">\r\n            <LinkItem place={place}/>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default PlaceItem;","import React from 'react';\r\nimport PlaceItem from './PlaceItem';\r\n\r\nfunction Places(props) {\r\n    return(\r\n        <ul>\r\n            { props.places.map(place => {\r\n                return (\r\n                    <React.Fragment key={place.id}>\r\n                        <PlaceItem place={place} />\r\n                        {place.children && <Places places={place.children} />}\r\n                    </React.Fragment>\r\n                )   \r\n            }) }\r\n        </ul>\r\n    );\r\n}\r\n\r\nexport default Places;","import React from 'react';\r\nimport './Modal.css';\r\nimport '../css/Buttons.css';\r\n\r\nexport default class Modal extends React.Component {\r\n    state = {\r\n        isOpen: false\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <button onClick={() => this.setState({isOpen: true})} className=\"button button-info\">\r\n                    Информация о выполнении заданий\r\n                </button>\r\n\r\n                {this.state.isOpen && <div className=\"modal\">\r\n                    <div className=\"modal-body\">\r\n                        <h3>Тестовое задание на стажера Docsvision</h3>\r\n                        <p>\r\n                            Тестовое задание выполнено. Полностью работоспособность можно будет посмотреть, когда будут приходить данные из таблицы Оборудование. На данный момент ничего не приходит.\r\n                        </p>\r\n                        <p>\r\n                            Задание было выполнено за 3 дня. С реактом работал впервые\r\n                        </p>\r\n                        <ol>\r\n                            <li>\r\n                                Первый день - разработка и реализация алгоритмов для 1 и 2 подзадачи\r\n                            </li>\r\n                            <li>\r\n                                Второй день - перенос все в реакт, реализация 3 и частично 4 задачи\r\n                            </li>\r\n                            <li>\r\n                                Третий день - окончание работы, сломанная БД, базовая стилизация элементов\r\n                            </li>\r\n                        </ol>\r\n                        <button onClick={() => this.setState({isOpen: false})} className=\"button button-info\">Закрыть</button>\r\n                    </div>\r\n                </div>}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\nimport Inventory from './task/Inventory';\nimport Places from './task/Places';\nimport './task/css/App.css';\nimport './task/css/Buttons.css';\nimport buildTree from './task/functions/Tree';\nimport Modal from './task/Modal/Modal';\n\n\nfunction App() {\n\tconst [loading, setLoading] = React.useState(true);\n\tsetTimeout(() => {\n\t\tsetLoading(false)\n\t}, 1000);\n\n\tif (!loading) {\n\t\twindow.places = buildTree(window.places, window.map);\n\t}\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Modal />\n\t\t\t<div className=\"wrapper\">\n\t\t\t\t{!loading && <div id=\"places\"><Places places={window.places} /></div>}\n\t\t\t\t{!loading && <div id=\"inventory\"><Inventory inventory={0} /></div>}\n\t\t\t</div>\n\t\t</React.Fragment>\n\t\t\n\t);\n}\n\nexport default App;\n","export default function buildTree(items, map) {\r\n    let mapMain = new Map();\r\n    let childs = [];\r\n\r\n    items.forEach((item) => {\r\n        mapMain.set(item.id, item);\r\n        if (item.parts) {\r\n            item.children = [];\r\n            for (let i = 0; i < item.parts.length; i++) {\r\n                childs.push(item.parts[i]);\r\n                let child = map.get(item.parts[i]);\r\n                item.children.push(child);\r\n            }\r\n        }\r\n    });\r\n    \r\n    childs.forEach((child) => {\r\n        mapMain.delete(child);\r\n    });\r\n\r\n    let result = [];\r\n\r\n    mapMain.forEach((el) => {\r\n        result.push(el);\r\n    });\r\n\r\n    return result;\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n\n"],"sourceRoot":""}